<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Push - String Extraction</title>
  <meta name="description" content="In this guide, we use mojito-cli to extract strings from source resource file.  Translatable strings are extracted from source resource file and stored in th...">

  <link rel="stylesheet" href="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" />

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://opensource.box.com/mojito/docs/guides/string-extraction/">
  <link rel="alternate" type="application/rss+xml" title="mojito" href="http://opensource.box.com/mojito/feed.xml">

  
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">
    <a class="site-title" href="/"><img src="/images/logo.png" class="logo" alt="mojito"></a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
      <div class="trigger">
        <a class="page-link" href="/docs/guides/getting-started/">Getting Started</a>
        <a class="page-link" href="/docs/">Documentation</a>
        <a class="page-link" href="https://github.com/box/mojito">GitHub</a>
        <span class="site-search">
          <input type="text" id="algolia-doc-search">
        </span>
      </div>
    </nav>

  </div>

</header>

<!-- at the end of the BODY -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
apiKey: 'bedffa81eeaf678861a2046ab3fc054b',
indexName: 'boxmojito',
inputSelector: '#algolia-doc-search'
});
</script>

    

    <script src="/bower_components/jquery/dist/jquery.min.js"></script>
<script src="/bower_components/anchor-js/anchor.js"></script>
<script src="/bower_components/bootstrap/js/affix.js"></script>
<script type="text/javascript">

  document.addEventListener('DOMContentLoaded', function() {
    anchors.add();

    $('.post-title, .doc-content h1, .doc-content h2, .doc-content h3').each(function(index, element) {
      var el = $(element);
      var title = el.text();
      var id = el.attr('id');
      var tag = el.prop('tagName');
      var titleEl = $('<div>').append(
        $('<a>')
          .attr('href', '#' + id)
          .addClass(tag.toLowerCase())
          .text(title));
      $('.table-of-content').append(titleEl);
    });
});
</script>

<div class="table-of-content" data-spy="affix" data-offset-top="40" data-offset-bottom="300">
</div>

<article class="post">
  <div class="wrapper">
  <header class="post-header">
    <h1 class="post-title">Push - String Extraction</h1>
  </header>
  <div class="post-content">
    <div class="doc-content">
      <p>In this guide, we use <code class="highlighter-rouge">mojito-cli</code> to extract strings from source resource file.  Translatable strings are extracted from source resource file and stored in the repository.  This process is called <code class="highlighter-rouge">push</code> in <span><font color="green">mojito</font><span> because extracted strings are “pushed” to <span><font color="green">mojito</font><span>.</span></span></span></span></p>

<p>For <span><font color="green">mojito</font><span> supported source resource files, see <a href="/docs/refs/mojito-file-formats/">Supported File Formats</a>.</span></span></p>

<h3 id="push">Push</h3>

<p>Let’s say we have the following source resource file <code class="highlighter-rouge">strings.properties</code> in the current working directory.</p>

<div class="language-properties highlighter-rouge"><pre class="highlight"><code><span class="c"># Greeting from Main UI
</span><span class="py">hello</span> <span class="p">=</span> <span class="s">Hello!</span>
<span class="c"># Displayed in the Main UI when user logs out.
</span><span class="py">bye</span> <span class="p">=</span> <span class="s">Goodbye.  Have a nice day!</span>
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>mojito push -r MyRepo
</code></pre>
</div>

<p>This extracts the two strings from the source resource file and stores them in <code class="highlighter-rouge">MyRepo</code> repository.  The two strings are now visible in <span><font color="green">mojito</font><span> and ready to be translated in locales configured in the repository.</span></span></p>

<p><img src="./images/repository-statistics.png" alt="Repository Statistics" /></p>

<p><img src="./images/workbench.png" alt="Workbench" /></p>

<h3 id="overriding-source-directory">Overriding Source Directory</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>mojito push -r MyRepo -s relativePath/ProjectA

mojito push -r MyRepo -s /home/explicitPath/ProjectA
</code></pre>
</div>

<p>By default, <span><font color="green">mojito</font><span> searches source resource files from current working directory and its sub-directories.  If you have your source resource file in a specific directory, you can use <code class="highlighter-rouge">-s</code> parameter to telll <span><font color="green">mojito</font><span> where to find source resource files.  The above example extracts strings <code class="highlighter-rouge">strings.properties</code> from <code class="highlighter-rouge">ProjectA</code> directory using relative path and explicit path.</span></span></span></span></p>

<h3 id="specific-source-file-type">Specific Source File Type</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>mojito push -r MyRepo -ft PROPERTIES
</code></pre>
</div>

<p>By default, <span><font color="green">mojito</font><span> processes all supported source resource files in the working directory.  If your working directory has many types of source resource files and if you want to only process specific type, you can use <code class="highlighter-rouge">-ft</code> parameter.  The above example only extracts strings from Java Properties file.</span></span></p>

<p>Available file types are <code class="highlighter-rouge">XLIFF</code>, <code class="highlighter-rouge">MAC_STRING</code>, <code class="highlighter-rouge">ANDROID_STRINGS</code>, <code class="highlighter-rouge">PROPERTIES</code>, <code class="highlighter-rouge">PROPERTIES_NOBASENAME</code>, <code class="highlighter-rouge">RESW</code>, <code class="highlighter-rouge">RESX</code>.  The difference between <code class="highlighter-rouge">PROPERTIES</code> and <code class="highlighter-rouge">PROPERTIES_NOBASENAME</code> is that the source resource file of <code class="highlighter-rouge">PROPERTIES_NOBASENAME</code> has source locale name as the file name. For example, <code class="highlighter-rouge">strings.properties</code> vs. <code class="highlighter-rouge">en.properties</code>.</p>

<h3 id="overriding-source-locale">Overriding Source Locale</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>mojito push -r MyRepo -sl en-US -ft PROPERTIES_NOBASENAME
</code></pre>
</div>

<p><span><font color="green">mojito</font><span> uses <code class="highlighter-rouge">en</code> as source locale by default.  <span><font color="green">mojito</font><span> uses soure locale to identity source resource files from localized resource files.  For example, if you have <code class="highlighter-rouge">en.properties</code> and <code class="highlighter-rouge">en-US.properties</code> in your working directory, <code class="highlighter-rouge">en.properties</code> is used as source resource file by default and <code class="highlighter-rouge">en-US.properties</code> is considered as localized resource file. The above example overrides the default source locale and use <code class="highlighter-rouge">en-US</code> as source locale using <code class="highlighter-rouge">-sl</code> parameter.  You must use <code class="highlighter-rouge">-sl</code> parameter with <code class="highlighter-rouge">-ft</code> parameter.</span></span></span></span></p>

<h3 id="specific-source-file-regex">Specific Source File Regex</h3>

<p>Let’s say you have the following source resource files in working directory.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>release-1.1.xliff
release-1.2.xliff
release-2.1.xliff
</code></pre>
</div>

<p>You can use regular expression to filter source resource files to push.  The following example only processes release-1 related files using <code class="highlighter-rouge">-sr</code> parameter for regular expression.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>mojito push -r MyRepo -sr "^(release-1).*$"
</code></pre>
</div>


    </div>
</div>
</div>


<!--
    <div class="page-content">
      <div class="wrapper">

      </div>
    </div>
-->

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">mojito</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Need to contact us directly? Email <a href="mailto:oss@box.com">oss@box.com</a> and be sure to include the name of this project in the subject.</li>
          <li></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          <li><a href="https://github.com/Box/Mojito/issues"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">GitHub Issues</span></a></li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>An open sourced automation platform that enables continuous localization for software development
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
